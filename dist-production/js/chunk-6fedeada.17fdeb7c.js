(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fedeada"],{a55b:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"c-app flex-row align-items-center"},[n("CContainer",[n("CRow",{staticClass:"justify-content-center"},[n("CCol",{attrs:{md:"8"}},[n("CCardGroup",[n("CCard",{staticClass:"p-4"},[n("CCardBody",[n("CForm",[n("h1",[t._v("傳送人員登入")]),n("div",{staticClass:"col-md-5 bind",staticStyle:{display:"none"}},[n("button",{staticClass:"btn btn-warning",attrs:{type:"button",id:"unbind"},on:{click:function(e){return t.unbind()}}},[t._v("解除綁定")])]),n("CInput",{attrs:{placeholder:"帳號",autocomplete:"username"},scopedSlots:t._u([{key:"prepend-content",fn:function(){return[n("CIcon",{attrs:{name:"cil-user"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("input",{attrs:{id:"device_id",type:"hidden"}}),n("CInput",{attrs:{placeholder:"密碼",type:"password",autocomplete:"curent-password"},scopedSlots:t._u([{key:"prepend-content",fn:function(){return[n("CIcon",{attrs:{name:"cil-lock-locked"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("CRow",[n("CCol",{staticClass:"text-left",attrs:{col:"6"}},[n("CButton",{staticClass:"px-4",attrs:{color:"primary",id:"bind",size:"lg"},on:{click:function(e){return t.login(t.username,t.password)}}},[t._v("登入")]),n("button",{on:{click:t.registeFCM}},[t._v("Register")])],1),n("CCol",{staticClass:"text-right",attrs:{col:"6"}},[n("CButton",{staticClass:"px-0",attrs:{color:"link",size:"lg"},on:{click:function(e){t.darkModal=!0}}},[t._v("忘記密碼?")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),n("div",[n("CModal",{staticStyle:{"font-size":"28px"},attrs:{show:t.darkModal,"no-close-on-backdrop":!0,centered:!0,title:"Modal title 2",size:"lg",color:"dark"},on:{"update:show":function(e){t.darkModal=e}},scopedSlots:t._u([{key:"header",fn:function(){return[n("h5",{staticClass:"modal-title"},[t._v("派單通知")]),n("CButtonClose",{staticClass:"text-white",on:{click:function(e){t.darkModal=!1}}})]},proxy:!0},{key:"footer",fn:function(){return[n("CButton",{attrs:{color:"success",size:"lg"},on:{click:function(e){t.darkModal=!1}}},[t._v("接收")])]},proxy:!0}])},[t._v(" 您目前接獲一個指定傳送工作,請在此單完成後，執行指定派單"),n("br"),t._v(" 查看傳送內容 ")])],1)])},s=[],i=(n("8071"),n("1b4a"),n("869c")),r=(n("3452"),{name:"Login",data:function(){return{username:"",password:"",darkModal:!1}},mounted:function(){console.log("hello"),this.initFCM()},methods:{login:function(){var t={user:this.username,password:i["a"].Encrypt(this.password)};this.$store.dispatch("userLogin",t)},initFCM:function(){var t=this;console.log("initFCM"),this.$messaging.onTokenRefresh((function(){t.$messaging.getToken().then((function(e){console.log("Token refreshed."),t.setTokenSentToServer(!1),t.sendTokenToServer(e)}))}))},registeFCM:function(){var t=this;this.$messaging.requestPermission().then((function(){console.log("Notification permission granted."),t.getToken()})).catch((function(t){console.log("Unable to get permission to notify.",t)}))},getToken:function(){var t=this;this.$messaging.getToken().then((function(e){e?t.sendTokenToServer(e):(console.log("No Instance ID token available. Request permission to generate one."),t.setTokenSentToServer(!1))})).catch((function(e){console.log("An error occurred while retrieving token. ",e),t.setTokenSentToServer(!1)}))},sendTokenToServer:function(t){},setTokenSentToServer:function(t){}}}),a=r,c=(n("d6db"),n("2877")),l=Object(c["a"])(a,o,s,!1,null,null,null);e["default"]=l.exports},d6db:function(t,e,n){"use strict";n("e67a")},e67a:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6fedeada.17fdeb7c.js.map